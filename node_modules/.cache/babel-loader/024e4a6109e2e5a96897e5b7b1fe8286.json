{"ast":null,"code":"import _regeneratorRuntime from\"/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/bzeeno/Code/Go/RealTimeChat/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{SyntheticEvent,useState}from'react';import{Button}from'./Button';import TextField from'@material-ui/core/TextField';import'./CreateRoom.scss';import'./Message.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CreateRoom=function CreateRoom(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),roomName=_useState4[0],setRoomName=_useState4[1];var submit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return fetch(\"https://\".concat(process.env.REACT_APP_SERVER_URL,\"/api/create-room\"),{// send post request to login endpoint\nmethod:'POST',headers:{'Content-Type':'application/json'},credentials:'include',body:JSON.stringify({name:roomName})});case 3:response=_context.sent;_context.next=6;return response.json();case 6:result=_context.sent;// get content\nif(result['message']==='Successfully created room!'){window.location.reload();}else{setError(result);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function submit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:props.createRoom?'create-window active':'create-window',children:/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",align:\"center\",children:[/*#__PURE__*/_jsx(TextField,{label:\"Room Name\",variant:\"filled\",onChange:function onChange(e){return setRoomName(e.target.value);}}),/*#__PURE__*/_jsx(Button,{buttonSize:\"btn--md\",buttonStyle:\"btn--secondary\",type:\"submit\",my:\"mt-2\",mx:\"mx-auto\",onClick:submit,children:\"Create Room\"}),error===''?null:/*#__PURE__*/_jsx(\"li\",{className:\"search-result\",children:error})]})})});};","map":{"version":3,"sources":["/home/bzeeno/Code/Go/RealTimeChat/frontend/src/components/CreateRoom.js"],"names":["React","SyntheticEvent","useState","Button","TextField","CreateRoom","props","error","setError","roomName","setRoomName","submit","e","preventDefault","fetch","process","env","REACT_APP_SERVER_URL","method","headers","credentials","body","JSON","stringify","name","response","json","result","window","location","reload","createRoom","target","value"],"mappings":"geAAA,MAAOA,CAAAA,KAAP,EAAeC,cAAf,CAA+BC,QAA/B,KAA8C,OAA9C,CACA,OAAQC,MAAR,KAAqB,UAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAO,mBAAP,CACA,MAAO,gBAAP,C,wFAEA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,eACPJ,QAAQ,CAAC,EAAD,CADD,wCAC1BK,KAD0B,eACnBC,QADmB,8BAEDN,QAAQ,CAAC,EAAD,CAFP,yCAE1BO,QAF0B,eAEhBC,WAFgB,eAIjC,GAAMC,CAAAA,MAAM,0FAAG,iBAAMC,CAAN,sIACXA,CAAC,CAACC,cAAF,GADW,sBAGYC,CAAAA,KAAK,mBAAYC,OAAO,CAACC,GAAR,CAAYC,oBAAxB,qBAAgE,CAAE;AAC1FC,MAAM,CAAE,MADgF,CAExFC,OAAO,CAAE,CAAC,eAAgB,kBAAjB,CAF+E,CAGxFC,WAAW,CAAE,SAH2E,CAIxFC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,IAAI,CAAEf,QADW,CAAf,CAJkF,CAAhE,CAHjB,QAGLgB,QAHK,qCAYUA,CAAAA,QAAQ,CAACC,IAAT,EAZV,QAYLC,MAZK,eAY0B;AACrC,GAAIA,MAAM,CAAC,SAAD,CAAN,GAAsB,4BAA1B,CAAwD,CACpDC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFD,IAEO,CACHtB,QAAQ,CAACmB,MAAD,CAAR,CACH,CAjBU,sDAAH,kBAANhB,CAAAA,MAAM,4CAAZ,CAqBA,mBACI,YAAK,SAAS,CAAEL,KAAK,CAACyB,UAAN,CAAmB,sBAAnB,CAA4C,eAA5D,uBACI,YAAK,SAAS,CAAC,YAAf,uBACA,aAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAC,QAA5B,wBACI,KAAC,SAAD,EACI,KAAK,CAAC,WADV,CAEI,OAAO,CAAC,QAFZ,CAGI,QAAQ,CAAE,kBAAAnB,CAAC,QAAEF,CAAAA,WAAW,CAACE,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAb,EAHf,EADJ,cAMI,KAAC,MAAD,EAAQ,UAAU,CAAC,SAAnB,CAA6B,WAAW,CAAC,gBAAzC,CAA0D,IAAI,CAAC,QAA/D,CAAwE,EAAE,CAAC,MAA3E,CAAkF,EAAE,CAAC,SAArF,CAA+F,OAAO,CAAEtB,MAAxG,yBANJ,CAOKJ,KAAK,GAAK,EAAV,CAAe,IAAf,cAAsB,WAAI,SAAS,CAAC,eAAd,UAA+BA,KAA/B,EAP3B,GADA,EADJ,EADJ,CAeH,CAxCM","sourcesContent":["import React, {SyntheticEvent, useState} from 'react'\nimport {Button} from './Button'\nimport TextField from '@material-ui/core/TextField';\nimport './CreateRoom.scss'\nimport './Message.scss'\n\nexport const CreateRoom = (props) => {\n    const [error, setError] = useState('')\n    const [roomName, setRoomName] = useState('')\n\n    const submit = async(e: SyntheticEvent) => {\n        e.preventDefault()\n\n        const response = await fetch(`https://${process.env.REACT_APP_SERVER_URL}/api/create-room`, { // send post request to login endpoint\n            method: 'POST',\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include',\n            body: JSON.stringify({\n                name: roomName,\n            })\n        })\n\n        const result = await response.json() // get content\n        if (result['message'] === 'Successfully created room!') {\n            window.location.reload();\n        } else {\n            setError(result)\n        }\n\n    }\n\n    return (\n        <div className={props.createRoom ? 'create-window active' : 'create-window'} >\n            <div className='search-box'>\n            <div className='mt-5' align='center'>\n                <TextField\n                    label=\"Room Name\"\n                    variant=\"filled\"\n                    onChange={e=>setRoomName(e.target.value)}\n                />\n                <Button buttonSize='btn--md' buttonStyle='btn--secondary' type='submit' my='mt-2' mx='mx-auto' onClick={submit}>Create Room</Button>\n                {error === '' ? null : <li className='search-result'>{error}</li>}\n            </div>\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}